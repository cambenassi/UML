#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "my_string.h"

int main(int argc, char* argv[])
{
  MY_STRING hMy_string = NULL;
  MY_STRING test_string = NULL;
  MY_STRING empty_string = NULL;
  FILE* fp;

  hMy_string = my_string_init_default();
  test_string = my_string_init_default();
  empty_string = my_string_init_default();
  fp = fopen("dictionary.txt", "r");
  
  while(my_string_extraction(hMy_string, fp))
  {
    if (my_string_get_size(hMy_string) == 30){
      
      printf("starting string: ");
      my_string_insertion(hMy_string, stdout);
      printf("\n\n");
      
      printf("push_back test with G: ");
      my_string_push_back(hMy_string, 'G');
      my_string_insertion(hMy_string, stdout);
      printf("\n\n");

      printf("pop_back test: ");
      my_string_pop_back(hMy_string);
      my_string_insertion(hMy_string, stdout);
      printf("\n\n");

      printf("string_at test at 1: %c",  my_string_at(hMy_string, 1)); 
      printf("\n\n");

      printf("string_concat test: ");
      fgetc(fp);
      my_string_extraction(test_string, fp);
      my_string_concat(hMy_string, test_string);
      my_string_insertion(hMy_string, stdout);
      printf("\n\n");

      my_string_c_str(hMy_string);

      if (my_string_empty(empty_string) == TRUE)
	printf("Test string is empty\n");
      else
	printf("Test string is not empty");
   
      }
    fgetc(fp);
  }
  

  my_string_destroy(&hMy_string);
  my_string_destroy(&test_string);
  my_string_destroy(&empty_string);
  fclose(fp);
  return 0;
}
